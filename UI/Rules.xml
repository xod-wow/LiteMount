<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\..\FrameXML\UI.xsd">

<!-- Copyright 2011-2021 Mike Battersby -->

<Script file="Rules.lua" />

<Frame name="LiteMountRulePartTemplate" virtual="true">
    <Layers>
        <Layer level="ARTWORK">
            <FontString parentKey="Text" name="$parentText" inherits="GameFontNormal" spacing="5" justifyH="LEFT" multiLine="true">
                <Anchors>
                    <Anchor point="LEFT" />
                    <Anchor point="RIGHT" />
                </Anchors>
            </FontString>
        </Layer>
    </Layers>
    <Scripts>
        <OnLoad inherit="prepend">
            self.SetText = function (self, ...) self.Text:SetText(...) end
            self.GetText = function (self, ...) self.Text:GetText(...) end
        </OnLoad>
    </Scripts>
</Frame>

<Button name="LiteMountRuleButtonTemplate" virtual="true" mixin="LiteMountRuleButtonMixin" inherits="LiteMountListButtonStyleTemplate">
    <Size y="66" />
    <Scripts>
        <OnShow method="OnShow" inherit="prepend" />
        <OnLoad method="OnLoad" inherit="prepend" />
        <OnClick method="OnClick" inherit="prepend" />
    </Scripts>

    <Layers>
        <Layer level="ARTWORK">
            <FontString parentKey="NumText" inherits="GameFontNormalLarge" justifyH="CENTER">
                <Size x="32" />
                <Anchors>
                    <Anchor point="LEFT" x="4" />
                </Anchors>
            </FontString>
            <Texture parentKey="Selected" alphaMode="ADD" hidden="true">
                <Color r="0.1" g="0.1" b="0" />
                <Anchors>
                    <Anchor point="TOPLEFT" x="2" y="-2" />
                    <Anchor point="BOTTOMRIGHT" x="-2" y="2" />
                </Anchors>
            </Texture>
        </Layer>
    </Layers>
    <Frames>
        <Button parentKey="MoveUp">
            <Scripts>
                <OnEnter inherit="prepend">
                    LiteMountTooltip:SetOwner(self, "ANCHOR_CURSOR_RIGHT")
                    LiteMountTooltip:AddLine(TRACKER_SORT_MANUAL_UP)
                    LiteMountTooltip:Show()
                </OnEnter>
                <OnLeave inherit="prepend">
                    LiteMountTooltip:Hide()
                </OnLeave>
            </Scripts>
            <Anchors>
                <Anchor point="BOTTOMRIGHT" relativePoint="RIGHT" x="-8" />
            </Anchors>
            <Size x="22" y="22"/>
            <NormalTexture atlas="hud-MainMenuBar-arrowup-up" />
            <PushedTexture atlas="hud-MainMenuBar-arrowup-down" />
            <HighlightTexture atlas="hud-MainMenuBar-arrowup-highlight" alphaMode="ADD" />
        </Button>
        <Button parentKey="MoveDown">
            <Scripts>
                <OnEnter inherit="prepend">
                    LiteMountTooltip:SetOwner(self, "ANCHOR_CURSOR_RIGHT")
                    LiteMountTooltip:AddLine(TRACKER_SORT_MANUAL_DOWN)
                    LiteMountTooltip:Show()
                </OnEnter>
                <OnLeave inherit="prepend">
                    LiteMountTooltip:Hide()
                </OnLeave>
            </Scripts>
            <Anchors>
                <Anchor point="TOPRIGHT" relativePoint="RIGHT" x="-8" />
            </Anchors>
            <Size x="22" y="22"/>
            <NormalTexture atlas="hud-MainMenuBar-arrowdown-up" />
            <PushedTexture atlas="hud-MainMenuBar-arrowdown-down" />
            <HighlightTexture atlas="hud-MainMenuBar-arrowdown-highlight" alphaMode="ADD" />
        </Button>
        <Frame parentKey="Condition" inherits="LiteMountRulePartTemplate">
            <Size x="260" y="58" />
            <Anchors> <Anchor point="LEFT" relativeKey="$parent.NumText" relativePoint="RIGHT" x="8" /> </Anchors>
        </Frame>
        <Frame parentKey="Action" inherits="LiteMountRulePartTemplate">
            <Size y="58" />
            <Anchors>
                <Anchor point="LEFT" relativeKey="$parent.Condition" relativePoint="RIGHT" x="16" />
                <Anchor point="RIGHT" x="-40" />
            </Anchors>
        </Frame>
    </Frames>
</Button>

<Frame name="LiteMountRulesPanel" hidden="true" inherits="LiteMountOptionsPanelTemplate" mixin="LiteMountRulesPanelMixin">

    <KeyValues>
        <KeyValue key="name" value="BRAWL_TOOLTIP_RULES" type="global" />
    </KeyValues>

    <Layers>
        <Layer level="ARTWORK">
            <FontString parentKey="ExplainText" inherits="GameFontNormal" justifyV="TOP" justifyH="LEFT" text="LM_RULES_EXP">
                <Anchors>
                    <Anchor point="TOP" y="-48" />
                    <Anchor point="LEFT" x="48" />
                    <Anchor point="RIGHT" x="-48" />
                </Anchors>
            </FontString>
        </Layer>
    </Layers>

    <Frames>
        <ScrollFrame name="$parentScroll" parentKey="Scroll" inherits="MinimalHybridScrollFrameTemplate" mixin="LiteMountRulesScrollMixin">
            <Anchors>
                <Anchor point="TOPLEFT" x="16" y="-120" />
                <Anchor point="BOTTOMRIGHT" x="-34" y="48" />
            </Anchors>
            <Scripts>
                <OnLoad method="OnLoad" />
            </Scripts>
            <Layers>
                <Layer level="OVERLAY">
                    <FontString parentKey="Inactive" inherits="GameFontNormalHuge">
                        <Size x="480" />
                        <Color r="1" g="0" b="0" />
                        <Anchors>
                            <Anchor point="CENTER" />
                        </Anchors>
                    </FontString>
                </Layer>
            </Layers>
        </ScrollFrame>

        <Frame name="$parentBindingDropDown" parentkey="BindingDropDown" inherits="UIDropDownMenuTemplate">
            <Size x="93" y="22" />
            <Anchors>
                <Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" relativeKey="$parent.Scroll" x="-8" />
            </Anchors>
        </Frame>

        <Button parentKey="DefaultButton" inherits="UIPanelButtonTemplate" text="DEFAULT">
            <Size x="96" y="22" />
            <Anchors>
                <Anchor point="BOTTOMRIGHT" relativePoint="TOPRIGHT" relativeKey="$parent.Scroll" x="-8" y="3" />
            </Anchors>
            <Scripts>
                <OnClick>
                    local parent = self:GetParent()
                    LiteMountOptionsControl_Default(parent.Scroll, true)
                </OnClick>
            </Scripts>
        </Button>

        <Button parentKey="AddButton" inherits="UIPanelButtonTemplate" text="ADD">
            <Size x="72" y="22" />
            <Anchors>
                <Anchor point="TOPRIGHT" relativeKey="$parent.Scroll" relativePoint="BOTTOMRIGHT" x="-4" y="-8" />
            </Anchors>
        </Button>
        <Button parentKey="EditButton" inherits="UIPanelButtonTemplate" text="EDIT">
            <Size x="72" y="22" />
            <Anchors>
                <Anchor point="RIGHT" relativeKey="$parent.AddButton" relativePoint="LEFT" x="-4" />
            </Anchors>
        </Button>
        <Button parentKey="DeleteButton" inherits="UIPanelButtonTemplate" text="DELETE">
            <Size x="72" y="22" />
            <Anchors>
                <Anchor point="RIGHT" relativeKey="$parent.EditButton" relativePoint="LEFT" x="-4" />
            </Anchors>
        </Button>
    </Frames>

    <Scripts>
        <OnLoad method="OnLoad" />
        <OnHide method="OnHide" />
        <OnSizeChanged method="OnSizeChanged" />
    </Scripts>
</Frame>

</Ui>
